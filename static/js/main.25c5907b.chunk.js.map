{"version":3,"sources":["utils/config.js","utils/near.js","components/Wallet.js","components/utils/Notifications.js","components/marketplace/AddProduct.js","components/marketplace/Product.js","components/utils/Loader.js","utils/marketplace.js","components/marketplace/Products.js","components/utils/Cover.js","assets/img/sandwich.jpg","App.js","reportWebVitals.js","index.js"],"names":["CONTRACT_NAME","process","environment","env","networkId","nodeUrl","contractName","walletUrl","helperUrl","explorerUrl","Error","nearEnv","connect","Object","assign","keyStore","keyStores","BrowserLocalStorageKeyStore","near","window","walletConnection","WalletConnection","accountId","getAccountId","contract","Contract","account","viewMethods","changeMethods","accountBalance","formatNearAmount","getAccountBalance","total","login","requestSignIn","contractId","logout","signOut","location","reload","Wallet","address","amount","symbol","destroy","Dropdown","Toggle","variant","align","id","className","Spinner","animation","size","Menu","Item","href","target","Stack","direction","gap","Divider","as","onClick","Notification","position","autoClose","hideProgressBar","newestOnTop","closeOnClick","rtl","pauseOnFocusLoss","draggable","pauseOnHover","NotificationSuccess","text","NotificationError","DefaultProps","defaultProps","AddProduct","save","useState","name","setName","image","setImage","description","setDescription","setLocation","price","setPrice","show","setShow","handleClose","Button","style","width","class","Modal","onHide","centered","Header","closeButton","Title","Form","Body","FloatingLabel","controlId","label","Control","type","onChange","e","value","placeholder","height","Footer","disabled","Product","product","buy","sold","owner","Col","Card","Badge","bg","src","alt","objectFit","Text","utils","format","Loader","role","GAS","buyProduct","buy_product","product_id","Products","products","setProducts","loading","setLoading","getProducts","useCallback","get_products","console","log","error","addProduct","data","uuid4","parseNearAmount","set_product","payload","then","resp","toast","useEffect","Row","xs","sm","lg","map","_product","Cover","coverImg","background","minHeight","maxWidth","App","balance","setBalance","getBalance","Container","fluid","Nav","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","nearInitPromise","initializeContract","ReactDOM","render","StrictMode","document","getElementById","catch"],"mappings":"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","file":"static/js/main.25c5907b.chunk.js","sourcesContent":["const CONTRACT_NAME = process.env.CONTRACT_NAME || \"marketplace.ivlek.testnet\";\n\nfunction environment(env) {\n    switch (env) {\n        case \"mainnet\":\n            return {\n                networkId: \"mainnet\",\n                nodeUrl: \"https://rpc.mainnet.near.org\",\n                contractName: CONTRACT_NAME,\n                walletUrl: \"https://wallet.near.org\",\n                helperUrl: \"https://helper.mainnet.near.org\",\n                explorerUrl: \"https://explorer.mainnet.near.org\",\n            };\n        case \"testnet\":\n            return {\n                networkId: \"testnet\",\n                nodeUrl: \"https://rpc.testnet.near.org\",\n                contractName: CONTRACT_NAME,\n                walletUrl: \"https://wallet.testnet.near.org\",\n                helperUrl: \"https://helper.testnet.near.org\",\n                explorerUrl: \"https://explorer.testnet.near.org\",\n            };\n        default:\n            throw Error(`Unknown environment '${env}'.`);\n    }\n}\n\nexport default environment;","import environment from \"./config\";\nimport { connect, Contract, keyStores, WalletConnection } from \"near-api-js\";\nimport { formatNearAmount } from \"near-api-js/lib/utils/format\";\n\nconst nearEnv = environment(\"testnet\");\n\nexport async function initializeContract() {\n    const near = await connect(\n        Object.assign(\n            { keyStore: new keyStores.BrowserLocalStorageKeyStore() },\n            nearEnv\n        )\n    );\n    window.walletConnection = new WalletConnection(near);\n    window.accountId = window.walletConnection.getAccountId();\n    window.contract = new Contract(\n        window.walletConnection.account(),\n        nearEnv.contractName,\n        {\n            viewMethods: [\"get_product\", \"get_products\"],\n            changeMethods: [\"buy_product\", \"set_product\"],\n        }\n    );\n}\n\nexport async function accountBalance() {\n    return formatNearAmount(\n        (await window.walletConnection.account().getAccountBalance()).total,\n        2\n    );\n}\n\nexport async function getAccountId() {\n    return window.walletConnection.getAccountId();\n}\n\nexport function login() {\n    return window.walletConnection.requestSignIn({\n        contractId: nearEnv.contractName,\n    });\n}\n\nexport function logout() {\n    window.walletConnection.signOut();\n    window.location.reload();\n}","import React from \"react\";\nimport { Dropdown, Stack, Spinner } from \"react-bootstrap\";\n\nconst Wallet = ({ address, amount, symbol, destroy }) => {\n    if (address) {\n        return (\n            <>\n                <Dropdown>\n                    <Dropdown.Toggle\n                        variant=\"light\"\n                        align=\"end\"\n                        id=\"dropdown-basic\"\n                        className=\"d-flex align-items-center border rounded-pill py-1\"\n                    >\n                        {amount ? (\n                            <>\n                                {amount} <span className=\"ms-1\"> {symbol}</span>\n                            </>\n                        ) : (\n                            <Spinner animation=\"border\" size=\"sm\" className=\"opacity-25\" />\n                        )}\n                    </Dropdown.Toggle>\n\n                    <Dropdown.Menu className=\"shadow-lg border-0\">\n                        <Dropdown.Item\n                            href={`https://explorer.testnet.near.org/accounts/${address}`}\n                            target=\"_blank\"\n                        >\n                            <Stack direction=\"horizontal\" gap={2}>\n                                <i className=\"bi bi-person-circle fs-4\" />\n                                <span className=\"font-monospace\">{address}</span>\n                            </Stack>\n                        </Dropdown.Item>\n\n                        <Dropdown.Divider />\n                        <Dropdown.Item\n                            as=\"button\"\n                            className=\"d-flex align-items-center\"\n                            onClick={() => {\n                                destroy();\n                            }}\n                        >\n                            <i className=\"bi bi-box-arrow-right me-2 fs-4\" />\n                            Disconnect\n                        </Dropdown.Item>\n                    </Dropdown.Menu>\n                </Dropdown>\n            </>\n        );\n    }\n\n    return null;\n};\n\nexport default Wallet;","import React from \"react\";\nimport { ToastContainer } from \"react-toastify\";\nimport PropTypes from \"prop-types\";\nimport \"react-toastify/dist/ReactToastify.css\";\n\nconst Notification = () => (\n    <ToastContainer\n        position=\"bottom-center\"\n        autoClose={5000}\n        hideProgressBar\n        newestOnTop\n        closeOnClick\n        rtl={false}\n        pauseOnFocusLoss\n        draggable={false}\n        pauseOnHover\n    />\n);\n\nconst NotificationSuccess = ({ text }) => (\n    <div>\n        <i className=\"bi bi-check-circle-fill text-success mx-2\" />\n        <span className=\"text-secondary mx-1\">{text}</span>\n    </div>\n);\n\nconst NotificationError = ({ text }) => (\n    <div>\n        <i className=\"bi bi-x-circle-fill text-danger mx-2\" />\n        <span className=\"text-secondary mx-1\">{text}</span>\n    </div>\n);\n\nconst Props = {\n    text: PropTypes.string,\n};\n\nconst DefaultProps = {\n    text: \"\",\n};\n\nNotificationSuccess.propTypes = Props;\nNotificationSuccess.defaultProps = DefaultProps;\n\nNotificationError.propTypes = Props;\nNotificationError.defaultProps = DefaultProps;\n\nexport { Notification, NotificationSuccess, NotificationError };","import React, { useState } from \"react\";\nimport PropTypes from \"prop-types\";\nimport { Button, Modal, Form, FloatingLabel } from \"react-bootstrap\";\n\nconst AddProduct = ({ save }) => {\n    const [name, setName] = useState(\"\");\n    const [image, setImage] = useState(\"\");\n    const [description, setDescription] = useState(\"\");\n    const [location, setLocation] = useState(\"\");\n    const [price, setPrice] = useState(0);\n    const isFormFilled = () => name && image && description && location && price;\n\n    const [show, setShow] = useState(false);\n\n    const handleClose = () => setShow(false);\n    const handleShow = () => setShow(true);\n\n    return (\n        <>\n            <Button\n                onClick={handleShow}\n                variant=\"dark\"\n                className=\"rounded-pill px-0\"\n                style={{ width: \"38px\" }}\n            >\n                <i class=\"bi bi-plus\"></i>\n            </Button>\n            <Modal show={show} onHide={handleClose} centered>\n                <Modal.Header closeButton>\n                    <Modal.Title>New Product</Modal.Title>\n                </Modal.Header>\n                <Form>\n                    <Modal.Body>\n                        <FloatingLabel\n                            controlId=\"inputName\"\n                            label=\"Product name\"\n                            className=\"mb-3\"\n                        >\n                            <Form.Control\n                                type=\"text\"\n                                onChange={(e) => {\n                                    setName(e.target.value);\n                                }}\n                                placeholder=\"Enter name of product\"\n                            />\n                        </FloatingLabel>\n                        <FloatingLabel\n                            controlId=\"inputUrl\"\n                            label=\"Image URL\"\n                            className=\"mb-3\"\n                        >\n                            <Form.Control\n                                type=\"text\"\n                                placeholder=\"Image URL\"\n                                onChange={(e) => {\n                                    setImage(e.target.value);\n                                }}\n                            />\n                        </FloatingLabel>\n                        <FloatingLabel\n                            controlId=\"inputDescription\"\n                            label=\"Description\"\n                            className=\"mb-3\"\n                        >\n                            <Form.Control\n                                as=\"textarea\"\n                                placeholder=\"description\"\n                                style={{ height: \"80px\" }}\n                                onChange={(e) => {\n                                    setDescription(e.target.value);\n                                }}\n                            />\n                        </FloatingLabel>\n                        <FloatingLabel\n                            controlId=\"inputLocation\"\n                            label=\"Location\"\n                            className=\"mb-3\"\n                        >\n                            <Form.Control\n                                type=\"text\"\n                                placeholder=\"Location\"\n                                onChange={(e) => {\n                                    setLocation(e.target.value);\n                                }}\n                            />\n                        </FloatingLabel>\n                        <FloatingLabel\n                            controlId=\"inputPrice\"\n                            label=\"Price\"\n                            className=\"mb-3\"\n                        >\n                            <Form.Control\n                                type=\"text\"\n                                placeholder=\"Price\"\n                                onChange={(e) => {\n                                    setPrice(e.target.value);\n                                }}\n                            />\n                        </FloatingLabel>\n                    </Modal.Body>\n                </Form>\n                <Modal.Footer>\n                    <Button variant=\"outline-secondary\" onClick={handleClose}>\n                        Close\n                    </Button>\n                    <Button\n                        variant=\"dark\"\n                        disabled={!isFormFilled()}\n                        onClick={() => {\n                            save({\n                                name,\n                                image,\n                                description,\n                                location,\n                                price,\n                            });\n                            handleClose();\n                        }}\n                    >\n                        Save product\n                    </Button>\n                </Modal.Footer>\n            </Modal>\n        </>\n    );\n};\n\nAddProduct.propTypes = {\n    save: PropTypes.func.isRequired,\n};\n\nexport default AddProduct;","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport { utils } from \"near-api-js\";\nimport { Card, Button, Col, Badge, Stack } from \"react-bootstrap\";\n\nconst Product = ({ product, buy }) => {\n    const { id, price, name, description, sold, location, image, owner } =\n        product;\n\n    const triggerBuy = () => {\n        buy(id, price);\n    };\n\n    return (\n        <Col key={id}>\n            <Card className=\" h-100\">\n                <Card.Header>\n                    <Stack direction=\"horizontal\" gap={2}>\n                        <span className=\"font-monospace text-secondary\">{owner}</span>\n                        <Badge bg=\"secondary\" className=\"ms-auto\">\n                            {sold} Sold\n                        </Badge>\n                    </Stack>\n                </Card.Header>\n                <div className=\" ratio ratio-4x3\">\n                    <img src={image} alt={name} style={{ objectFit: \"cover\" }} />\n                </div>\n                <Card.Body className=\"d-flex  flex-column text-center\">\n                    <Card.Title>{name}</Card.Title>\n                    <Card.Text className=\"flex-grow-1 \">{description}</Card.Text>\n                    <Card.Text className=\"text-secondary\">\n                        <span>{location}</span>\n                    </Card.Text>\n                    <Button\n                        variant=\"outline-dark\"\n                        onClick={triggerBuy}\n                        className=\"w-100 py-3\"\n                    >\n                        Buy for {utils.format.formatNearAmount(price)} NEAR\n                    </Button>\n                </Card.Body>\n            </Card>\n        </Col>\n    );\n};\n\nProduct.propTypes = {\n    product: PropTypes.instanceOf(Object).isRequired,\n    buy: PropTypes.func.isRequired,\n};\n\nexport default Product;","import React from \"react\";\nimport { Spinner } from \"react-bootstrap\";\n\nconst Loader = () => (\n    <div className=\"d-flex justify-content-center\">\n        <Spinner animation=\"border\" role=\"status\" className=\"opacity-25\">\n            <span className=\"visually-hidden\">Loading...</span>\n        </Spinner>\n    </div>\n);\nexport default Loader;","import { v4 as uuid4 } from \"uuid\";\nimport { parseNearAmount } from \"near-api-js/lib/utils/format\";\n\nconst GAS = 100000000000000;\n\nexport function createProduct(product) {\n    product.id = uuid4();\n    product.price = parseNearAmount(product.price + \"\");\n    return window.contract.set_product({ payload: product });\n}\n\nexport function getProducts() {\n    return window.contract.get_products();\n}\n\nexport async function buyProduct({ id, price }) {\n    await window.contract.buy_product({ product_id: id }, GAS, price);\n}","import React, { useEffect, useState, useCallback } from \"react\";\nimport { toast } from \"react-toastify\";\nimport AddProduct from \"./AddProduct\";\nimport Product from \"./Product\";\nimport Loader from \"../utils/Loader\";\nimport { Row } from \"react-bootstrap\";\nimport { NotificationSuccess, NotificationError } from \"../utils/Notifications\";\nimport {\n    getProducts as getProductList,\n    buyProduct,\n    createProduct,\n} from \"../../utils/marketplace\";\n\nconst Products = () => {\n    const [products, setProducts] = useState([]);\n    const [loading, setLoading] = useState(false);\n\n    const getProducts = useCallback(async () => {\n        try {\n            setLoading(true);\n            setProducts(await getProductList());\n        } catch (error) {\n            console.log({ error });\n        } finally {\n            setLoading(false);\n        }\n    });\n\n    const addProduct = async (data) => {\n        try {\n            setLoading(true);\n            createProduct(data).then((resp) => {\n                getProducts();\n            });\n            toast(<NotificationSuccess text=\"Product added successfully.\" />);\n        } catch (error) {\n            console.log({ error });\n            toast(<NotificationError text=\"Failed to create a product.\" />);\n        } finally {\n            setLoading(false);\n        }\n    };\n\n    const buy = async (id, price) => {\n        try {\n            await buyProduct({\n                id,\n                price,\n            }).then((resp) => getProducts());\n            toast(<NotificationSuccess text=\"Product bought successfully\" />);\n        } catch (error) {\n            toast(<NotificationError text=\"Failed to purchase product.\" />);\n        } finally {\n            setLoading(false);\n        }\n    };\n\n    useEffect(() => {\n        getProducts();\n    }, []);\n\n    return (\n        <>\n            {!loading ? (\n                <>\n                    <div className=\"d-flex justify-content-between align-items-center mb-4\">\n                        <h1 className=\"fs-4 fw-bold mb-0\">Street Food</h1>\n                        <AddProduct save={addProduct} />\n                    </div>\n                    <Row xs={1} sm={2} lg={3} className=\"g-3  mb-5 g-xl-4 g-xxl-5\">\n                        {products.map((_product) => (\n                            <Product\n                                product={{\n                                    ..._product,\n                                }}\n                                buy={buy}\n                            />\n                        ))}\n                    </Row>\n                </>\n            ) : (\n                <Loader />\n            )}\n        </>\n    );\n};\n\nexport default Products;","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport { Button } from \"react-bootstrap\";\n\nconst Cover = ({ name, login, coverImg }) => {\n    if ((name, login, coverImg)) {\n        return (\n            <div\n                className=\"d-flex justify-content-center flex-column text-center \"\n                style={{ background: \"#000\", minHeight: \"100vh\" }}\n            >\n                <div className=\"mt-auto text-light mb-5\">\n                    <div\n                        className=\" ratio ratio-1x1 mx-auto mb-2\"\n                        style={{ maxWidth: \"320px\" }}\n                    >\n                        <img src={coverImg} alt=\"\" />\n                    </div>\n                    <h1>{name}</h1>\n                    <p>Please connect your wallet to continue.</p>\n                    <Button\n                        onClick={login}\n                        variant=\"outline-light\"\n                        className=\"rounded-pill px-3 mt-3\"\n                    >\n                        Connect Wallet\n                    </Button>\n                </div>\n                <p className=\"mt-auto text-secondary\">Powered by NEAR</p>\n            </div>\n        );\n    }\n    return null;\n};\n\nCover.propTypes = {\n    name: PropTypes.string,\n};\n\nCover.defaultProps = {\n    name: \"\",\n};\n\nexport default Cover;","export default __webpack_public_path__ + \"static/media/sandwich.2d312449.jpg\";","import React, { useEffect, useCallback, useState } from \"react\";\nimport { Container, Nav } from \"react-bootstrap\";\nimport { login, logout as destroy, accountBalance } from \"./utils/near\";\nimport Wallet from \"./components/Wallet\";\nimport { Notification } from \"./components/utils/Notifications\";\nimport Products from \"./components/marketplace/Products\";\nimport Cover from \"./components/utils/Cover\";\nimport coverImg from \"./assets/img/sandwich.jpg\";\nimport \"./App.css\";\n\nconst App = function AppWrapper() {\n  const account = window.walletConnection.account();\n  const [balance, setBalance] = useState(\"0\");\n  const getBalance = useCallback(async () => {\n    if (account.accountId) {\n      setBalance(await accountBalance());\n    }\n  });\n\n  useEffect(() => {\n    getBalance();\n  }, [getBalance]);\n  return (\n    <>\n      <Notification />\n      {account.accountId ? (\n        <Container fluid=\"md\">\n          <Nav className=\"justify-content-end pt-3 pb-5\">\n            <Nav.Item>\n              <Wallet\n                address={account.accountId}\n                amount={balance}\n                symbol=\"NEAR\"\n                destroy={destroy}\n              />\n            </Nav.Item>\n          </Nav>\n          <main><Products /></main>\n        </Container>\n      ) : (\n        <Cover name=\"Street Food\" login={login} coverImg={coverImg} />\n      )}\n    </>\n  );\n};\n\nexport default App;","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\nimport reportWebVitals from \"./reportWebVitals\";\nimport { initializeContract } from \"./utils/near\";\n\nimport \"bootstrap\";\nimport \"bootstrap-icons/font/bootstrap-icons.css\";\nimport \"bootstrap/dist/css/bootstrap.min.css\";\n\nwindow.nearInitPromise = initializeContract()\n  .then(() => {\n    ReactDOM.render(\n      <React.StrictMode>\n        <App />\n      </React.StrictMode>,\n      document.getElementById(\"root\")\n    );\n  })\n  .catch(console.error);\n\nreportWebVitals();"],"sourceRoot":""}